# Examples

Several examples in two- and three-dimensions are given. Input files in .geo format have been generated by Neper (Quey et al., 2011). To run all the examples, make sure to open a terminal in the `examples` folder. On windows, you usually need to replace the `python3` command with `python`.


## Two-dimensional examples

A periodic tesselation in x- and y-direction with 100 grains is provided and a Gmsh compatible .msh file is chosen as output. You can run this example with the command line 

```
python3 -m neper_mosaic 2d-n100-id1.geo output/testout_n100.msh -v --show_gui --show_gmsh
```

A periodic tesselation in x- and y-periodic with 256 grains is provided and a ciGen (Nguyen, 2014) compatible output is selected. You can run this example with the command line 

```
python3 -m neper_mosaic 2d-n256-id1.geo output/testout_n256.msh --ciGen
```

Additionally, `2d-n5-id1.geo` and `2d-n400-id1.geo` corresponding to 5 and 400 grain microstructures, respectively, are provided as input examples.


## Three-dimensional examples

A periodic tesselation in x-, y- and z-direction with 64 grains is provided. A Gmsh compatible mesh (.msh) and geometry (.geo_unrolled) file, an Abaqus compatible mesh (.inp) file and a ParaView compatible mesh (.vtk) file are selected as output. Running this example might take a few minutes due to the higher geometric complexity.

```
python3 -m neper_mosaic -v 3d-n64-id1.geo output/testout.msh output/testout.geo_unrolled output/testout.inp output/testout.vtk 
```

Additionally, `3d-n3-id1.geo`, `3d-n4-id1.geo` and `3d-n20-id1.geo` corresponding to 3, 4 and 20 grain microstructures are provided as input examples.


## API examples

The first API example shows how to use Mosaic from a python script. The 3d microstructure with four grains (`3d-n4-id1.geo`) is loaded, and the mesh is stored in the .msh file format.

```
python3 api_example_01.py
```

The second example demonstrates how Mosaic can be integrated in a python script for detailed control of meshing by prescribing coordinate-depending mesh sizes. In this case, Mosaic is used only to load the rectilinear geometry from the geo file `3d-n4-id1.geo`. Refer to the gmsh documentation for details on meshing options.

```
python3 api_example_02.py
```

Both example scripts are explained by comments within the respective files.


## References

R. Quey, P. R. Dawson, F. Barbe, Large-scale 3D random polycrystals for the finite element method: Generation, meshing and remeshing, Comput. Methods Appl. Mech. Engrg. 200 (17-20) (2011) 1729–1745. doi:10.1016/j.cma.2011.01.002

V. P. Nguyen, An open source program to generate zero-thickness cohesive interface elements, Adv. Eng. Softw. 74 (2014) 27–39. doi:10.1016/j.advengsoft.2014.04.002

